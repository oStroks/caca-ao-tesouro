<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CMD</title>

<style>
  * { box-sizing: border-box; }

  body {
    margin: 0;
    background: #000;
    height: 100vh;
    display: grid;
    place-items: center;
    font-family: Consolas, "Courier New", monospace;
    color: #00ff00;
  }

  .cmd {
    width: min(92vw, 420px);
    border: 1px solid #00ff00;
    padding: 18px;
    display: grid;
    gap: 10px;
  }

  #pergunta {
    font-size: 13px;
    line-height: 1.4;
  }

  input, button {
    width: 100%;
    padding: 8px;
    background: #000;
    border: 1px solid #00ff00;
    color: #00ff00;
    font-family: inherit;
    font-size: 13px;
  }

  button:hover {
    background: #00ff00;
    color: #000;
    cursor: pointer;
  }

  .mapa {
    width: 100%;
    border: 1px solid #00ff00;
  }
</style>
</head>
<body>

<div class="cmd">
  <div id="pergunta"></div>
  <input id="resposta" placeholder="digite o comando">
  <button onclick="verificar()">executar</button>
</div>

<script>
const etapas = [
  {
    pergunta: "Onde minhas perguntas ainda dormem em papel?",
    resposta: "caderno"
  },
  {
    pergunta: "O que cresce sem pedir permissão?",
    resposta: "raiz"
  },
  {
    tipo: "mapa",
    imagem: "mapa-mano.jpg",
    texto: "Onde o X marca o lugar"
  },
  {
    pergunta: "O que está ausente aqui?",
    resposta: "silencio"
  },
  {
    pergunta: "Onde o saber se torna encontro?",
    resposta: "presente"
  }
];

let etapaAtual = 0;
const perguntaDiv = document.getElementById("pergunta");
const input = document.getElementById("resposta");
const botao = document.querySelector("button");

function mostrarEtapa() {
  const e = etapas[etapaAtual];

  if (e.tipo === "mapa") {
    perguntaDiv.innerHTML = `
      ${e.texto}<br><br>
      <img src="${e.imagem}" class="mapa">
    `;
  } else {
    perguntaDiv.textContent = e.pergunta;
  }

  input.value = "";
}

function verificar() {
  const valor = input.value.trim().toLowerCase();
  const e = etapas[etapaAtual];

  if (e.tipo === "mapa" || valor === e.resposta) {
    etapaAtual++;
    if (etapaAtual >= etapas.length) {
      perguntaDiv.innerHTML = "PROCESSO FINALIZADO.";
      input.style.display = "none";
      botao.style.display = "none";
    } else {
      mostrarEtapa();
    }
  } else {
    alert("COMANDO INVÁLIDO.");
  }
}

mostrarEtapa();
</script>

</body>
</html>
